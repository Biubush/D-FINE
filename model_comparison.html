<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D-FINE Model Performance Comparison</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@3.35.0/dist/apexcharts.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --info-color: #7209b7;
            --model-x-color: #e63946;
            --model-l-color: #ffd166;
            --model-m-color: #118ab2;
            --model-s-color: #06d6a0;
            --model-n-color: #7209b7;
            --chart-color-1: #ff6b6b;
            --chart-color-2: #4d908e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-color);
            padding-top: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .card {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 30px;
            border: none;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
            color: white;
            font-weight: bold;
            text-align: center;
            padding: 15px;
            border-bottom: none;
        }

        .card-body {
            padding: 25px;
            background-color: white;
        }

        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }

        .model-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            margin: 5px;
            transition: transform 0.2s ease;
        }

        .model-badge:hover {
            transform: scale(1.1);
        }

        .model-x {
            background-color: var(--model-x-color);
        }

        .model-l {
            background-color: var(--model-l-color);
        }

        .model-m {
            background-color: var(--model-m-color);
        }

        .model-s {
            background-color: var(--model-s-color);
        }

        .model-n {
            background-color: var(--model-n-color);
        }

        .metric-card {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background-color: white;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }

        .metric-label {
            font-size: 14px;
            color: #6c757d;
        }

        .parameter-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .parameter-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 15px;
            text-align: left;
        }

        .parameter-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .parameter-table tr:last-child td {
            border-bottom: none;
        }

        .parameter-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .parameter-table tr:hover {
            background-color: #e9ecef;
        }

        .btn-toggle {
            margin: 5px;
            border-radius: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-toggle.active {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .model-info {
            position: relative;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: white;
            overflow: hidden;
        }

        .model-info h5 {
            margin-bottom: 15px;
            font-weight: bold;
        }

        .info-x {
            background-color: var(--model-x-color);
        }

        .info-l {
            background-color: var(--model-l-color);
        }

        .info-m {
            background-color: var(--model-m-color);
        }

        .info-s {
            background-color: var(--model-s-color);
        }

        .info-n {
            background-color: var(--model-n-color);
        }

        .floating-circles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .circle {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .model-content {
            position: relative;
            z-index: 1;
        }

        .info-pill {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            background-color: rgba(255, 255, 255, 0.2);
            margin-right: 8px;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }

        #comparison-container {
            min-height: 400px;
            position: relative;
        }

        .tab-pane {
            padding: 20px 0;
        }

        /* Tooltip custom styling */
        .apexcharts-tooltip {
            background: rgba(255, 255, 255, 0.95) !important;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2) !important;
            border-radius: 10px !important;
            padding: 10px !important;
            border: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header animate__animated animate__fadeIn">
            <h1>D-FINE Model Performance Comparison</h1>
            <p class="lead">Performance analysis of five SAR-DFINE model variants (X, L, M, S, N)</p>
        </div>

        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h3>Model Architecture Overview</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div id="modelComparison" class="chart-container"></div>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <h5 class="text-center mb-4">Model Size Comparison</h5>
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <div class="model-info info-x animate__animated animate__fadeIn">
                                            <div class="floating-circles">
                                                <div class="circle" style="width: 80px; height: 80px; top: -20px; left: 10%;"></div>
                                                <div class="circle" style="width: 50px; height: 50px; bottom: 10px; right: 20%;"></div>
                                                <div class="circle" style="width: 30px; height: 30px; top: 40%; left: 80%;"></div>
                                            </div>
                                            <div class="model-content">
                                                <h5>X Model (HGNetv2 B5)</h5>
                                                <div class="info-pill">Largest</div>
                                                <div class="info-pill">hidden_dim: 384</div>
                                                <div class="info-pill">feedforward: 2048</div>
                                                <div class="info-pill">Batch Size: 24</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="model-info info-l animate__animated animate__fadeIn" style="animation-delay: 0.2s">
                                            <div class="floating-circles">
                                                <div class="circle" style="width: 70px; height: 70px; top: -10px; right: 10%;"></div>
                                                <div class="circle" style="width: 40px; height: 40px; bottom: 20px; left: 15%;"></div>
                                                <div class="circle" style="width: 25px; height: 25px; top: 50%; left: 60%;"></div>
                                            </div>
                                            <div class="model-content">
                                                <h5>L Model (HGNetv2 B4)</h5>
                                                <div class="info-pill">Large</div>
                                                <div class="info-pill">Standard Config</div>
                                                <div class="info-pill">Batch Size: 32</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <div class="model-info info-m animate__animated animate__fadeIn" style="animation-delay: 0.4s">
                                            <div class="floating-circles">
                                                <div class="circle" style="width: 60px; height: 60px; top: 5px; left: 20%;"></div>
                                                <div class="circle" style="width: 35px; height: 35px; bottom: 15px; right: 25%;"></div>
                                                <div class="circle" style="width: 20px; height: 20px; top: 45%; left: 70%;"></div>
                                            </div>
                                            <div class="model-content">
                                                <h5>M Model (HGNetv2 B2)</h5>
                                                <div class="info-pill">Medium</div>
                                                <div class="info-pill">hidden_dim: 256</div>
                                                <div class="info-pill">depth_mult: 0.67</div>
                                                <div class="info-pill">Batch Size: 48</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="model-info info-s animate__animated animate__fadeIn" style="animation-delay: 0.6s">
                                            <div class="floating-circles">
                                                <div class="circle" style="width: 50px; height: 50px; top: 10px; right: 15%;"></div>
                                                <div class="circle" style="width: 30px; height: 30px; bottom: 25px; left: 25%;"></div>
                                                <div class="circle" style="width: 15px; height: 15px; top: 55%; left: 75%;"></div>
                                            </div>
                                            <div class="model-content">
                                                <h5>S Model (HGNetv2 B0)</h5>
                                                <div class="info-pill">Small</div>
                                                <div class="info-pill">hidden_dim: 256</div>
                                                <div class="info-pill">depth_mult: 0.34</div>
                                                <div class="info-pill">expansion: 0.5</div>
                                                <div class="info-pill">Batch Size: 64</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="model-info info-n animate__animated animate__fadeIn" style="animation-delay: 0.8s">
                                            <div class="floating-circles">
                                                <div class="circle" style="width: 40px; height: 40px; top: 20px; left: 30%;"></div>
                                                <div class="circle" style="width: 25px; height: 25px; bottom: 30px; right: 35%;"></div>
                                                <div class="circle" style="width: 15px; height: 15px; top: 60%; left: 55%;"></div>
                                            </div>
                                            <div class="model-content">
                                                <h5>N Model (HGNetv2 B0)</h5>
                                                <div class="info-pill">Nano</div>
                                                <div class="info-pill">hidden_dim: 128</div>
                                                <div class="info-pill">depth_mult: 0.5</div>
                                                <div class="info-pill">expansion: 0.34</div>
                                                <div class="info-pill">Batch Size: 148</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-lg-6">
                <div class="card animate__animated animate__fadeInLeft">
                    <div class="card-header">
                        <h3>AP50:95 Performance</h3>
                    </div>
                    <div class="card-body">
                        <div id="apChart" class="chart-container"></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card animate__animated animate__fadeInRight">
                    <div class="card-header">
                        <h3>Training Efficiency</h3>
                    </div>
                    <div class="card-body">
                        <div id="epochChart" class="chart-container"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h3>Model Parameter Comparison</h3>
                    </div>
                    <div class="card-body">
                        <div id="radarChart" class="chart-container"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h3>Interactive Comparison</h3>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="performance-tab" data-bs-toggle="tab" data-bs-target="#performance" type="button" role="tab" aria-controls="performance" aria-selected="true">Performance Metrics</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="efficiency-tab" data-bs-toggle="tab" data-bs-target="#efficiency" type="button" role="tab" aria-controls="efficiency" aria-selected="false">Training Efficiency</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tradeoff-tab" data-bs-toggle="tab" data-bs-target="#tradeoff" type="button" role="tab" aria-controls="tradeoff" aria-selected="false">Performance Tradeoffs</button>
                            </li>
                        </ul>
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="performance" role="tabpanel" aria-labelledby="performance-tab">
                                <div id="comparison-container">
                                    <div class="text-center mt-3 mb-3">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-outline-primary btn-toggle active" data-metric="ap">AP50:95</button>
                                            <button type="button" class="btn btn-outline-primary btn-toggle" data-metric="epoch">Best Epoch</button>
                                            <button type="button" class="btn btn-outline-primary btn-toggle" data-metric="stop">Early Stop Epoch</button>
                                        </div>
                                    </div>
                                    <div id="performanceChart" class="chart-container"></div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="efficiency" role="tabpanel" aria-labelledby="efficiency-tab">
                                <div id="efficiencyChart" class="chart-container"></div>
                            </div>
                            <div class="tab-pane fade" id="tradeoff" role="tabpanel" aria-labelledby="tradeoff-tab">
                                <div id="tradeoffChart" class="chart-container"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h3>Model Parameters</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table parameter-table">
                                <thead>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>X (HGNetv2 B5)</th>
                                        <th>L (HGNetv2 B4)</th>
                                        <th>M (HGNetv2 B2)</th>
                                        <th>S (HGNetv2 B0)</th>
                                        <th>N (HGNetv2 B0)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Hidden Dimension</td>
                                        <td>384</td>
                                        <td>-</td>
                                        <td>256</td>
                                        <td>256</td>
                                        <td>128</td>
                                    </tr>
                                    <tr>
                                        <td>Feedforward Dimension</td>
                                        <td>2048</td>
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                        <td>512</td>
                                    </tr>
                                    <tr>
                                        <td>Depth Multiplier</td>
                                        <td>-</td>
                                        <td>-</td>
                                        <td>0.67</td>
                                        <td>0.34</td>
                                        <td>0.5</td>
                                    </tr>
                                    <tr>
                                        <td>Expansion</td>
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                        <td>0.5</td>
                                        <td>0.34</td>
                                    </tr>
                                    <tr>
                                        <td>Batch Size</td>
                                        <td>24</td>
                                        <td>32</td>
                                        <td>48</td>
                                        <td>64</td>
                                        <td>148</td>
                                    </tr>
                                    <tr>
                                        <td>Number of Layers</td>
                                        <td>-</td>
                                        <td>-</td>
                                        <td>4</td>
                                        <td>3</td>
                                        <td>3</td>
                                    </tr>
                                    <tr>
                                        <td>Return Idx</td>
                                        <td>[1, 2, 3]</td>
                                        <td>[1, 2, 3]</td>
                                        <td>[1, 2, 3]</td>
                                        <td>[1, 2, 3]</td>
                                        <td>[2, 3]</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h3>Performance Summary</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 mb-4">
                                <div class="metric-card animate__animated animate__fadeIn" style="animation-delay: 0.1s">
                                    <div class="metric-label">Best Overall AP50:95</div>
                                    <div class="metric-value text-primary animate-pulse">0.6614</div>
                                    <div class="model-badge model-x">Model X</div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="metric-card animate__animated animate__fadeIn" style="animation-delay: 0.2s">
                                    <div class="metric-label">Most Efficient Training</div>
                                    <div class="metric-value text-primary">109 epochs</div>
                                    <div class="model-badge model-x">Model X</div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="metric-card animate__animated animate__fadeIn" style="animation-delay: 0.3s">
                                    <div class="metric-label">Best Performance/Size Ratio</div>
                                    <div class="metric-value text-primary">0.6611 AP</div>
                                    <div class="model-badge model-s">Model S</div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <h5>Performance Insights:</h5>
                                <ul>
                                    <li>Model X (HGNetv2 B5) achieves the best AP50:95 score of 0.6614 and converges the quickest at 109 epochs.</li>
                                    <li>Model S (HGNetv2 B0), despite being much smaller, achieves comparable performance with an AP50:95 of 0.6611.</li>
                                    <li>Model N (HGNetv2 B0) has the lowest performance but uses the largest batch size (148), making it suitable for environments with limited computing resources.</li>
                                    <li>Models with higher hidden dimensions tend to achieve better AP scores in general.</li>
                                    <li>Early stopping occurred for all models, indicating good convergence behavior.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.35.0/dist/apexcharts.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Model data
            const modelData = {
                'Model X': {
                    type: 'HGNetv2 B5',
                    ap: 0.6614,
                    bestEpoch: 109,
                    stopEpoch: 159,
                    parameters: {
                        hiddenDim: 384,
                        feedforwardDim: 2048,
                        batchSize: 24
                    },
                    color: '#480ca8'
                },
                'Model L': {
                    type: 'HGNetv2 B4',
                    ap: 0.6512,
                    bestEpoch: 138,
                    stopEpoch: 188,
                    parameters: {
                        hiddenDim: 256,
                        feedforwardDim: 1024,
                        batchSize: 32
                    },
                    color: '#4895ef'
                },
                'Model M': {
                    type: 'HGNetv2 B2',
                    ap: 0.6575,
                    bestEpoch: 123,
                    stopEpoch: 173,
                    parameters: {
                        hiddenDim: 256,
                        depthMult: 0.67,
                        batchSize: 48
                    },
                    color: '#4cc9f0'
                },
                'Model S': {
                    type: 'HGNetv2 B0',
                    ap: 0.6611,
                    bestEpoch: 200,
                    stopEpoch: 250,
                    parameters: {
                        hiddenDim: 256,
                        depthMult: 0.34,
                        expansion: 0.5,
                        batchSize: 64
                    },
                    color: '#02c39a'
                },
                'Model N': {
                    type: 'HGNetv2 B0',
                    ap: 0.6318,
                    bestEpoch: 180,
                    stopEpoch: 230,
                    parameters: {
                        hiddenDim: 128,
                        depthMult: 0.5,
                        expansion: 0.34,
                        batchSize: 148
                    },
                    color: '#f72585'
                }
            };

            // AP Chart
            const apOptions = {
                series: [{
                    name: 'AP50:95',
                    data: [0.6614, 0.6512, 0.6575, 0.6611, 0.6318]
                }],
                chart: {
                    type: 'bar',
                    height: 350,
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 800,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        },
                        dynamicAnimation: {
                            enabled: true,
                            speed: 350
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                plotOptions: {
                    bar: {
                        distributed: true,
                        borderRadius: 10,
                        dataLabels: {
                            position: 'top'
                        }
                    }
                },
                dataLabels: {
                    enabled: true,
                    formatter: function(val) {
                        return val.toFixed(4);
                    },
                    offsetY: -20,
                    style: {
                        fontSize: '12px',
                        colors: ["#304758"]
                    }
                },
                colors: ['#e63946', '#ffd166', '#118ab2', '#06d6a0', '#7209b7'],
                xaxis: {
                    categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                    position: 'bottom',
                    axisBorder: {
                        show: false
                    },
                    axisTicks: {
                        show: false
                    },
                    tooltip: {
                        enabled: false
                    }
                },
                yaxis: {
                    axisBorder: {
                        show: false
                    },
                    axisTicks: {
                        show: false
                    },
                    labels: {
                        show: true,
                        formatter: function (val) {
                            return val.toFixed(4);
                        }
                    },
                    min: 0.62,
                    max: 0.67
                },
                title: {
                    text: 'AP50:95 Performance',
                    floating: false,
                    offsetY: 0,
                    align: 'center',
                    style: {
                        color: '#444'
                    }
                },
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val.toFixed(4);
                        }
                    }
                }
            };

            // Epoch Chart
            const epochOptions = {
                series: [{
                    name: 'Best Epoch',
                    data: [109, 138, 123, 200, 180]
                }, {
                    name: 'Early Stop Epoch',
                    data: [159, 188, 173, 250, 230]
                }],
                chart: {
                    type: 'bar',
                    height: 350,
                    stacked: false,
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 800,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                plotOptions: {
                    bar: {
                        horizontal: false,
                        columnWidth: '55%',
                        borderRadius: 10,
                    },
                },
                dataLabels: {
                    enabled: false
                },
                stroke: {
                    show: true,
                    width: 2,
                    colors: ['transparent']
                },
                xaxis: {
                    categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                },
                yaxis: {
                    title: {
                        text: 'Epochs'
                    }
                },
                fill: {
                    opacity: 1
                },
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val + " epochs";
                        }
                    }
                },
                legend: {
                    position: 'top'
                },
                colors: ['#ff6b6b', '#4d908e']
            };

            // Radar Chart
            const radarOptions = {
                series: [{
                    name: 'Model X',
                    data: [100, 100, 16, 100, 17, 55, 100],
                    color: '#e63946'
                }, {
                    name: 'Model L',
                    data: [80, 82, 22, 67, 22, 69, 98],
                    color: '#ffd166'
                }, {
                    name: 'Model M',
                    data: [60, 65, 32, 67, 30, 62, 99],
                    color: '#118ab2'
                }, {
                    name: 'Model S',
                    data: [40, 47, 43, 67, 87, 100, 100],
                    color: '#06d6a0'
                }, {
                    name: 'Model N',
                    data: [20, 29, 100, 33, 78, 90, 96],
                    color: '#7209b7'
                }],
                chart: {
                    height: 500,
                    type: 'radar',
                    dropShadow: {
                        enabled: true,
                        blur: 1,
                        left: 1,
                        top: 1
                    },
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 800,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                stroke: {
                    width: 3
                },
                fill: {
                    opacity: 0.1
                },
                markers: {
                    size: 6,
                    hover: {
                        size: 10
                    }
                },
                title: {
                    text: 'Model Characteristics'
                },
                legend: {
                    position: 'right',
                    fontSize: '14px',
                    fontWeight: 500,
                    itemMargin: {
                        horizontal: 10,
                        vertical: 8
                    }
                },
                xaxis: {
                    categories: ['Complexity', 'Parameters', 'Batch Size', 'Hidden Dim', 'Training Time', 'Best Epoch', 'AP50:95'],
                    labels: {
                        style: {
                            fontSize: '13px',
                            fontWeight: 500
                        }
                    }
                },
                yaxis: {
                    show: false,
                    max: 100
                },
                tooltip: {
                    y: {
                        formatter: function(val, { seriesIndex, dataPointIndex, w }) {
                            const category = w.globals.labels[dataPointIndex];
                            const originalValues = {
                                'Model X': [100, 85, 24, 384, 40, 109, 0.6614],
                                'Model L': [80, 70, 32, 256, 50, 138, 0.6512],
                                'Model M': [60, 55, 48, 256, 60, 123, 0.6575],
                                'Model S': [40, 40, 64, 256, 70, 200, 0.6611],
                                'Model N': [20, 25, 148, 128, 80, 180, 0.6318]
                            };
                            const modelName = w.globals.seriesNames[seriesIndex];
                            const originalVal = originalValues[modelName][dataPointIndex];
                            
                            if (category === 'AP50:95') {
                                return originalVal.toFixed(4);
                            } else if (category === 'Batch Size' || category === 'Hidden Dim' || category === 'Best Epoch') {
                                return Math.round(originalVal);
                            }
                            return originalVal;
                        }
                    }
                },
                grid: {
                    padding: {
                        top: 20,
                        bottom: 20,
                        left: 20,
                        right: 20
                    }
                }
            };

            // Performance Chart
            const performanceOptions = {
                series: [{
                    name: 'AP50:95',
                    data: [0.6614, 0.6512, 0.6575, 0.6611, 0.6318]
                }],
                chart: {
                    height: 400,
                    type: 'bar',
                    animations: {
                        enabled: true,
                        easing: 'linear',
                        dynamicAnimation: {
                            speed: 1000
                        }
                    },
                    events: {
                        animationEnd: function(chartCtx, opts) {
                            // 安全地检查chart对象是否存在
                            if (chartCtx && chartCtx.chart) {
                                const currentChart = chartCtx.chart;
                                const element = document.createElement('div');
                                element.classList.add('performance-label', 'animate__animated', 'animate__fadeIn');
                                const chartTop = currentChart.offsetTop;
                                const chartHeight = currentChart.offsetHeight;
                                setTimeout(() => {
                                    const el = document.querySelector('.performance-label');
                                    if (el) el.remove();
                                }, 5000);
                            }
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                plotOptions: {
                    bar: {
                        borderRadius: 10,
                        dataLabels: {
                            position: 'top'
                        },
                        distributed: true
                    }
                },
                colors: ['#e63946', '#ffd166', '#118ab2', '#06d6a0', '#7209b7'],
                dataLabels: {
                    enabled: true,
                    formatter: function(val) {
                        return val.toFixed(4);
                    },
                    offsetY: -20,
                    style: {
                        fontSize: '12px',
                        colors: ["#304758"]
                    }
                },
                xaxis: {
                    categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                    position: 'bottom'
                },
                yaxis: {
                    axisBorder: {
                        show: false
                    },
                    axisTicks: {
                        show: false
                    },
                    labels: {
                        show: true,
                        formatter: function (val) {
                            return val.toFixed(4);
                        }
                    },
                    min: 0.62,
                    max: 0.67,
                    forceNiceScale: true
                }
            };

            // Efficiency Chart
            const efficiencyOptions = {
                series: [{
                    name: 'AP per Epoch',
                    data: [
                        0.6614 / 109,
                        0.6512 / 138,
                        0.6575 / 123,
                        0.6611 / 200,
                        0.6318 / 180
                    ].map(val => parseFloat(val.toFixed(5)))
                }],
                chart: {
                    height: 350,
                    type: 'line',
                    zoom: {
                        enabled: false
                    },
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 800,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                dataLabels: {
                    enabled: true,
                    formatter: function(val) {
                        return val.toFixed(5);
                    }
                },
                stroke: {
                    curve: 'smooth',
                    width: 5
                },
                title: {
                    text: 'AP per Training Epoch (Efficiency)',
                    align: 'center'
                },
                grid: {
                    row: {
                        colors: ['#f3f3f3', 'transparent'],
                        opacity: 0.5
                    },
                },
                markers: {
                    size: 8,
                    colors: ['#ff6b6b'],
                    strokeColors: '#fff',
                    strokeWidth: 2
                },
                xaxis: {
                    categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                }
            };

            // Tradeoff Chart
            const tradeoffOptions = {
                series: [{
                    name: 'AP50:95',
                    type: 'column',
                    data: [0.6614, 0.6512, 0.6575, 0.6611, 0.6318]
                }, {
                    name: 'Batch Size',
                    type: 'line',
                    data: [24, 32, 48, 64, 148]
                }],
                chart: {
                    height: 350,
                    type: 'line',
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 800,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                stroke: {
                    width: [0, 4]
                },
                title: {
                    text: 'Performance vs Batch Size'
                },
                dataLabels: {
                    enabled: true,
                    enabledOnSeries: [1],
                    formatter: function(val, { seriesIndex, dataPointIndex, w }) {
                        if (seriesIndex === 0) {
                            return val.toFixed(4);
                        } else {
                            return val;
                        }
                    }
                },
                labels: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                xaxis: {
                    type: 'category'
                },
                yaxis: [
                    {
                        title: {
                            text: 'AP50:95',
                        },
                        min: 0.62,
                        max: 0.67
                    }, 
                    {
                        opposite: true,
                        title: {
                            text: 'Batch Size'
                        },
                        min: 0,
                        max: 160
                    }
                ],
                colors: ['#ff6b6b', '#4d908e']
            };

            // Model Comparison Chart
            const modelComparisonOptions = {
                series: [
                    {
                        name: 'AP50:95',
                        data: [0.6614, 0.6512, 0.6575, 0.6611, 0.6318]
                    },
                    {
                        name: 'Hidden Dimension (scaled)',
                        data: [384/100, 256/100, 256/100, 256/100, 128/100].map(val => parseFloat(val.toFixed(2)))
                    },
                    {
                        name: 'Batch Size (scaled)',
                        data: [24/50, 32/50, 48/50, 64/50, 148/50].map(val => parseFloat(val.toFixed(2)))
                    }
                ],
                chart: {
                    type: 'area',
                    height: 350,
                    stacked: false,
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 1000,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        },
                        dynamicAnimation: {
                            enabled: true,
                            speed: 350
                        }
                    },
                    toolbar: {
                        show: true
                    }
                },
                dataLabels: {
                    enabled: false
                },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shadeIntensity: 1,
                        inverseColors: false,
                        opacityFrom: 0.7,
                        opacityTo: 0.2,
                        stops: [0, 90, 100]
                    }
                },
                xaxis: {
                    categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                },
                tooltip: {
                    y: {
                        formatter: function(val, { seriesIndex }) {
                            if (seriesIndex === 0) {
                                return val.toFixed(4);
                            } else if (seriesIndex === 1) {
                                return (val * 100).toFixed(0) + " (Hidden Dim)";
                            } else {
                                return (val * 50).toFixed(0) + " (Batch Size)";
                            }
                        }
                    }
                },
                colors: ['#ff6b6b', '#4d908e', '#fca311'],
                stroke: {
                    curve: 'smooth',
                    width: 3
                },
                title: {
                    text: 'Model Characteristics Comparison',
                    align: 'center'
                }
            };

            // Initialize all charts
            const apChart = new ApexCharts(document.querySelector("#apChart"), apOptions);
            const epochChart = new ApexCharts(document.querySelector("#epochChart"), epochOptions);
            const radarChart = new ApexCharts(document.querySelector("#radarChart"), radarOptions);
            let performanceChart = new ApexCharts(document.querySelector("#performanceChart"), performanceOptions);
            const efficiencyChart = new ApexCharts(document.querySelector("#efficiencyChart"), efficiencyOptions);
            const tradeoffChart = new ApexCharts(document.querySelector("#tradeoffChart"), tradeoffOptions);
            const modelComparison = new ApexCharts(document.querySelector("#modelComparison"), modelComparisonOptions);

            apChart.render();
            epochChart.render();
            radarChart.render();
            performanceChart.render();
            efficiencyChart.render();
            tradeoffChart.render();
            modelComparison.render();

            // Toggle performance metrics
            document.querySelectorAll('.btn-toggle').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.btn-toggle').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const metric = this.getAttribute('data-metric');
                    
                    // 销毁并重新创建图表
                    if (performanceChart) {
                        performanceChart.destroy();
                    }
                    
                    if (metric === 'ap') {
                        // AP50:95 配置
                        const apOptions = {
                            series: [{
                                name: 'AP50:95',
                                data: [0.6614, 0.6512, 0.6575, 0.6611, 0.6318]
                            }],
                            chart: {
                                height: 400,
                                type: 'bar',
                                animations: {
                                    enabled: true,
                                    easing: 'linear',
                                    dynamicAnimation: {
                                        speed: 1000
                                    }
                                },
                                events: {
                                    animationEnd: function(chartCtx, opts) {
                                        // 安全地检查chart对象是否存在
                                        if (chartCtx && chartCtx.chart) {
                                            const currentChart = chartCtx.chart;
                                            const element = document.createElement('div');
                                            element.classList.add('performance-label', 'animate__animated', 'animate__fadeIn');
                                            setTimeout(() => {
                                                const el = document.querySelector('.performance-label');
                                                if (el) el.remove();
                                            }, 5000);
                                        }
                                    }
                                },
                                toolbar: {
                                    show: true
                                }
                            },
                            title: {
                                text: 'AP50:95 Performance',
                                align: 'center'
                            },
                            plotOptions: {
                                bar: {
                                    borderRadius: 10,
                                    dataLabels: {
                                        position: 'top'
                                    },
                                    distributed: true
                                }
                            },
                            colors: ['#e63946', '#ffd166', '#118ab2', '#06d6a0', '#7209b7'],
                            dataLabels: {
                                enabled: true,
                                formatter: function(val) {
                                    return val.toFixed(4);
                                },
                                offsetY: -20,
                                style: {
                                    fontSize: '12px',
                                    colors: ["#304758"]
                                }
                            },
                            xaxis: {
                                categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                                position: 'bottom'
                            },
                            yaxis: {
                                min: 0.62,
                                max: 0.67,
                                forceNiceScale: true,
                                labels: {
                                    formatter: function (val) {
                                        return val.toFixed(4);
                                    }
                                }
                            }
                        };
                        performanceChart = new ApexCharts(document.querySelector("#performanceChart"), apOptions);
                        performanceChart.render();
                    } else if (metric === 'epoch') {
                        // Best Epoch 配置
                        const epochData = [109, 138, 123, 200, 180];
                        const maxEpoch = Math.max(...epochData);
                        
                        const epochOptions = {
                            series: [{
                                name: 'Best Epoch',
                                data: epochData
                            }],
                            chart: {
                                height: 400,
                                type: 'bar',
                                animations: {
                                    enabled: true,
                                    easing: 'linear',
                                    dynamicAnimation: {
                                        speed: 1000
                                    }
                                },
                                events: {
                                    animationEnd: function(chartCtx, opts) {
                                        // 安全地检查chart对象是否存在
                                        if (chartCtx && chartCtx.chart) {
                                            const currentChart = chartCtx.chart;
                                            const element = document.createElement('div');
                                            element.classList.add('performance-label', 'animate__animated', 'animate__fadeIn');
                                            setTimeout(() => {
                                                const el = document.querySelector('.performance-label');
                                                if (el) el.remove();
                                            }, 5000);
                                        }
                                    }
                                },
                                toolbar: {
                                    show: true
                                }
                            },
                            title: {
                                text: 'Best Epoch Performance',
                                align: 'center'
                            },
                            plotOptions: {
                                bar: {
                                    borderRadius: 10,
                                    dataLabels: {
                                        position: 'top'
                                    },
                                    distributed: true
                                }
                            },
                            colors: ['#e63946', '#ffd166', '#118ab2', '#06d6a0', '#7209b7'],
                            dataLabels: {
                                enabled: true,
                                formatter: function(val) {
                                    return val;
                                },
                                offsetY: -20,
                                style: {
                                    fontSize: '12px',
                                    colors: ["#304758"]
                                }
                            },
                            xaxis: {
                                categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                                position: 'bottom'
                            },
                            yaxis: {
                                min: 0,
                                max: Math.ceil(maxEpoch * 1.1), // 最大值上浮10%留出空间
                                tickAmount: 6,
                                forceNiceScale: true,
                                decimalsInFloat: 0,
                                labels: {
                                    formatter: function (val) {
                                        return val;
                                    }
                                }
                            }
                        };
                        performanceChart = new ApexCharts(document.querySelector("#performanceChart"), epochOptions);
                        performanceChart.render();
                    } else if (metric === 'stop') {
                        // Early Stop Epoch 配置
                        const stopData = [159, 188, 173, 250, 230];
                        const maxStop = Math.max(...stopData);
                        
                        const stopOptions = {
                            series: [{
                                name: 'Early Stop Epoch',
                                data: stopData
                            }],
                            chart: {
                                height: 400,
                                type: 'bar',
                                animations: {
                                    enabled: true,
                                    easing: 'linear',
                                    dynamicAnimation: {
                                        speed: 1000
                                    }
                                },
                                events: {
                                    animationEnd: function(chartCtx, opts) {
                                        // 安全地检查chart对象是否存在
                                        if (chartCtx && chartCtx.chart) {
                                            const currentChart = chartCtx.chart;
                                            const element = document.createElement('div');
                                            element.classList.add('performance-label', 'animate__animated', 'animate__fadeIn');
                                            setTimeout(() => {
                                                const el = document.querySelector('.performance-label');
                                                if (el) el.remove();
                                            }, 5000);
                                        }
                                    }
                                },
                                toolbar: {
                                    show: true
                                }
                            },
                            title: {
                                text: 'Early Stopping Epoch',
                                align: 'center'
                            },
                            plotOptions: {
                                bar: {
                                    borderRadius: 10,
                                    dataLabels: {
                                        position: 'top'
                                    },
                                    distributed: true
                                }
                            },
                            colors: ['#e63946', '#ffd166', '#118ab2', '#06d6a0', '#7209b7'],
                            dataLabels: {
                                enabled: true,
                                formatter: function(val) {
                                    return val;
                                },
                                offsetY: -20,
                                style: {
                                    fontSize: '12px',
                                    colors: ["#304758"]
                                }
                            },
                            xaxis: {
                                categories: ['Model X', 'Model L', 'Model M', 'Model S', 'Model N'],
                                position: 'bottom'
                            },
                            yaxis: {
                                min: 0,
                                max: Math.ceil(maxStop * 1.1), // 最大值上浮10%留出空间
                                tickAmount: 6,
                                forceNiceScale: true,
                                decimalsInFloat: 0,
                                labels: {
                                    formatter: function (val) {
                                        return val;
                                    }
                                }
                            }
                        };
                        performanceChart = new ApexCharts(document.querySelector("#performanceChart"), stopOptions);
                        performanceChart.render();
                    }
                });
            });

            // Add floating circles animation
            document.querySelectorAll('.floating-circles .circle').forEach(circle => {
                // Random starting position
                const randomX = Math.random() * 100;
                const randomY = Math.random() * 100;
                circle.style.left = `${randomX}%`;
                circle.style.top = `${randomY}%`;
                
                // Apply animation
                circle.animate([
                    { transform: 'translate(0, 0)' },
                    { transform: `translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px)` },
                    { transform: 'translate(0, 0)' }
                ], {
                    duration: 4000 + Math.random() * 3000,
                    iterations: Infinity,
                    direction: 'alternate',
                    easing: 'ease-in-out'
                });
            });
        });
    </script>
